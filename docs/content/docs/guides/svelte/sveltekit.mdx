---
title: SvelteKit
description: Integrate GHOST ID with your SvelteKit application for analytics tracking
---

import { Steps, Step } from 'fumadocs-ui/components/steps'
import { Callout } from 'fumadocs-ui/components/callout'


This guide explains how to integrate GHOST ID with your SvelteKit application for analytics tracking.

## How to Add GHOST ID to Your SvelteKit App

The recommended and most straightforward method for SvelteKit is to add the GHOST ID tracking script directly to your `src/app.html` file. This ensures the script is loaded early on all pages.

### Adding to `src/app.html`

<Steps>
<Step>
### Retrieve Your Tracking Script

Navigate to your GHOST ID dashboard to obtain your code snippet:

```html
<script
  src="https://app.ghost-id.io/api/script.js"
  data-site-id="YOUR_SITE_ID"
  defer
></script>
```
Replace `YOUR_SITE_ID` with your actual Site ID.
</Step>

<Step>
### Locate Your `app.html` File

In a SvelteKit project, this file is typically located at `src/app.html`.
</Step>

<Step>
### Add the Snippet to `app.html`

Open `src/app.html` and paste the GHOST ID tracking snippet into the `<head>` section, usually before `%sveltekit.head%` or just after it.

```html filename="src/app.html"
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- GHOST ID Tracking Snippet -->
    <script
      src="https://app.ghost-id.io/api/script.js"
      data-site-id="YOUR_SITE_ID"
      defer
    ></script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
```
Ensure `YOUR_SITE_ID` is replaced.
</Step>

<Step>
### Verify Installation

Deploy your application and check your GHOST ID dashboard for incoming data.
</Step>
</Steps>

<Callout type="info">
  **SPA Page View Tracking**: GHOST ID's script is designed to automatically track route changes in SvelteKit applications. If page views aren't tracked correctly after navigation (which is uncommon), you might need to manually trigger them using the `afterNavigate` lifecycle function:
  ```svelte
  // In a layout or page component
  import { afterNavigate } from '$app/navigation';

  afterNavigate(() => {
    if (typeof window !== 'undefined' && window.ghost-id) {
      window.ghost-id.pageview();
    }
  });
  ```
  Test the default behavior first.
</Callout>

## Custom Event Tracking

From any Svelte component within your SvelteKit app, you can track custom events:

```svelte
<script>
  function handleAction() {
    if (typeof window !== 'undefined' && window.ghost-id) {
      window.ghost-id.event('user_action_sveltekit', { component: 'MySvelteKitComponent' });
    }
  }
</script>

<button on:click={handleAction}>Perform SvelteKit Action</button>
```
Always check `typeof window !== 'undefined'` before accessing `window.ghost-id` as SvelteKit components can also run on the server.
